{"version":3,"sources":["webpack:///scripts/app.js","webpack:///webpack/bootstrap 0de5193bfa6793bc27e2","webpack:///./src/js/app.js","webpack:///./src/js/lib/adClientLibrary.js"],"names":["wisp","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","AdClientLibrary","undefined","_adClientLibrary","_adClientLibrary2","myAdInstance","containerId","updateInterval","runAd","myAdInstance2","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","config","this","adPool","adServerUrl","isAdBeingFetched","_this","adData","pop","document","getElementById","innerHTML","ad","request","XMLHttpRequest","responseType","addEventListener","response","open","send","intervalId","setInterval","bind","_this2","push","interval","clearInterval"],"mappings":"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","file":"scripts/app.js","sourcesContent":["var wisp =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.AdClientLibrary = undefined;\n\t\n\tvar _adClientLibrary = __webpack_require__(1);\n\t\n\tvar _adClientLibrary2 = _interopRequireDefault(_adClientLibrary);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// import '../styles/app.scss';\n\t\n\tvar wisp = {};\n\t\n\twisp.AdClientLibrary = _adClientLibrary2.default;\n\t\n\tvar myAdInstance = new wisp.AdClientLibrary({\n\t    'containerId': 'topBanner',\n\t    'updateInterval': 1\n\t});\n\t\n\tmyAdInstance.runAd();\n\t\n\tvar myAdInstance2 = new wisp.AdClientLibrary({\n\t    'containerId': 'bottomBanner',\n\t    'updateInterval': 5\n\t});\n\t\n\tmyAdInstance2.runAd();\n\t\n\t// setTimeout(function () {\n\t//     console.log('changed interval');\n\t//     myAdInstance.setUpdateInterval(10);\n\t// },\n\t// 5000);\n\t\n\texports.AdClientLibrary = _adClientLibrary2.default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AdClientLibrary = function () {\n\t    function AdClientLibrary(config) {\n\t        _classCallCheck(this, AdClientLibrary);\n\t\n\t        this.config = config;\n\t        this.adPool = [];\n\t        this.adServerUrl = 'https://5xhlcfzk8c.execute-api.eu-west-1.amazonaws.com/prod/mock-engine';\n\t        this.isAdBeingFetched = false;\n\t    }\n\t\n\t    _createClass(AdClientLibrary, [{\n\t        key: 'runAd',\n\t        value: function runAd() {\n\t            var _this = this;\n\t\n\t            if (this.adPool.length) {\n\t                var adData = this.adPool.pop();\n\t\n\t                document.getElementById(this.config.containerId).innerHTML = adData.ad;\n\t\n\t                return;\n\t            }\n\t\n\t            if (this.isAdBeingFetched) {\n\t                return;\n\t            }\n\t\n\t            var request = new XMLHttpRequest();\n\t\n\t            request.responseType = 'json';\n\t            request.addEventListener('progress', function () {\n\t                _this.isAdBeingFetched = true;\n\t            });\n\t            request.addEventListener('error', function () {\n\t                _this.isAdBeingFetched = false;\n\t            });\n\t            request.addEventListener('abort', function () {\n\t                _this.isAdBeingFetched = false;\n\t            });\n\t            request.addEventListener('load', function () {\n\t                _this.isAdBeingFetched = false;\n\t\n\t                document.getElementById(_this.config.containerId).innerHTML = request.response.ad;\n\t            });\n\t            request.open('GET', this.adServerUrl);\n\t            request.send();\n\t\n\t            if (!this.intervalId) {\n\t                this.intervalId = setInterval(this.runAd.bind(this), this.config.updateInterval * 1000);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'prefetchAd',\n\t        value: function prefetchAd() {\n\t            var _this2 = this;\n\t\n\t            var request = new XMLHttpRequest();\n\t\n\t            request.responseType = 'json';\n\t            request.addEventListener('load', function () {\n\t                _this2.adPool.push(request.response);\n\t            });\n\t            request.open('GET', this.adServerUrl);\n\t            request.send();\n\t        }\n\t    }, {\n\t        key: 'setUpdateInterval',\n\t        value: function setUpdateInterval(interval) {\n\t            clearInterval(this.intervalId);\n\t            this.config.updateInterval = interval;\n\t            this.intervalId = setInterval(this.runAd.bind(this), this.config.updateInterval * 1000);\n\t        }\n\t    }]);\n\t\n\t    return AdClientLibrary;\n\t}();\n\t\n\texports.default = AdClientLibrary;\n\t;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// scripts/app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0de5193bfa6793bc27e2","import AdClientLibrary from './lib/adClientLibrary.js';\n\n// import '../styles/app.scss';\n\nlet wisp = {};\n\nwisp.AdClientLibrary = AdClientLibrary;\n\nlet myAdInstance = new wisp.AdClientLibrary({\n    'containerId': 'topBanner',\n    'updateInterval': 1\n});\n\nmyAdInstance.runAd();\n\nlet myAdInstance2 = new wisp.AdClientLibrary({\n    'containerId': 'bottomBanner',\n    'updateInterval': 5\n});\n\nmyAdInstance2.runAd();\n\n// setTimeout(function () {\n//     console.log('changed interval');\n//     myAdInstance.setUpdateInterval(10);\n// },\n// 5000);\n\nexport {AdClientLibrary};\n\n\n// WEBPACK FOOTER //\n// ./src/js/app.js","export default class AdClientLibrary {\n    constructor(config) {\n        this.config = config;\n        this.adPool = [];\n        this.adServerUrl = 'https://5xhlcfzk8c.execute-api.eu-west-1.amazonaws.com/prod/mock-engine';\n        this.isAdBeingFetched = false;\n    }\n\n    runAd() {\n        if (this.adPool.length) {\n            let adData = this.adPool.pop();\n\n            document\n                .getElementById(this.config.containerId)\n                .innerHTML = adData.ad;\n\n            return;\n        }\n\n        if (this.isAdBeingFetched) {\n            return;\n        }\n\n        let request = new XMLHttpRequest();\n\n        request.responseType = 'json';\n        request.addEventListener('progress', () => {\n            this.isAdBeingFetched = true;\n        });\n        request.addEventListener('error', () => {\n            this.isAdBeingFetched = false;\n        });\n        request.addEventListener('abort', () => {\n            this.isAdBeingFetched = false;\n        });\n        request.addEventListener('load', () => {\n            this.isAdBeingFetched = false;\n\n            document\n                .getElementById(this.config.containerId)\n                .innerHTML = request.response.ad;\n        });\n        request.open('GET', this.adServerUrl);\n        request.send();\n\n        if (!this.intervalId) {\n            this.intervalId = setInterval(this.runAd.bind(this), this.config.updateInterval * 1000);\n        }\n    }\n\n    prefetchAd() {\n        let request = new XMLHttpRequest();\n\n        request.responseType = 'json';\n        request.addEventListener('load', () => {\n            this.adPool.push(request.response);\n        });\n        request.open('GET', this.adServerUrl);\n        request.send();\n    }\n\n    setUpdateInterval(interval) {\n        clearInterval(this.intervalId);\n        this.config.updateInterval = interval;\n        this.intervalId = setInterval(this.runAd.bind(this), this.config.updateInterval * 1000);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/adClientLibrary.js"],"sourceRoot":""}